import{_ as u,u as h,L as _,r as p,o as n,e as f,w as x,b as t,c as l,f as g,F as m,t as s}from"./index-da710154.js";import{_ as b}from"./Group19-49c36de6.js";const y={data(){return{store:h(),controller:new AbortController,timer:setTimeout(console.log("will it"),2e3)}},components:{Layout:_},methods:{removeCart(e){delete this.store.cart[e],this.store.uid!=""?fetch("/api/deleteCart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({1:e,2:this.store.uid})}):localStorage.setItem("cart",JSON.stringify(this.store.cart))},incrementProductCount:function(e){this.store.cart[e].quantity++,clearTimeout(this.timer),this.timer=setTimeout(()=>this.updateCart(e),2e3)},decrementProductCount(e){this.store.cart[e].quantity>1&&(this.store.cart[e].quantity--,clearTimeout(this.timer),this.timer=setTimeout(()=>this.updateCart(e),2e3))},updateCart(e){console.log("works"),this.store.uid!=""?fetch("/api/updateCart",{method:"POST",signal:this.controller.signal,headers:{"Content-Type":"application/json"},body:JSON.stringify({1:parseInt(e),2:this.store.cart[e].quantity,3:this.store.uid})}):localStorage.setItem("cart",JSON.stringify(this.store.cart))}}},v=t("div",{class:"flex justify-center text-[30px] mb-[10px]"},[t("h1",{class:"text-gray-700"},"Корзина")],-1),C=t("div",{class:"flex justify-center mb-[5%]"},[t("hr",{class:"w-[900px] bg-gray-700 h-[2px]"})],-1),k={class:"grid grid-cols-4 max-[1100px]:grid-cols-2"},w={class:"justify-self-center"},S={class:"bg-white rounded-[12px] p-2"},j={class:"text-[25px]"},T={class:"mb-[10px]"},A=t("img",{class:"rounded-[5px] mb-[10px]",src:b},null,-1),B={class:"grid grid-flow-row gap-4"},O={class:"grid grid-cols-2 gap-[50px] text-[20px]"},P={class:"justify-self-end"},q={class:""},L={class:"grid grid-cols-2 gap-[20px]"},N=t("p",{class:"text-[20px] leading-none self-center"},"Количество товаров:",-1),D={class:"grid grid-flow-col self-center justify-self-end gap-[2px] px-1"},E=["onClick"],F=t("p",null,"-",-1),J=[F],I={class:"text-[20px]"},$=["onClick"],V=t("p",null,"+",-1),z=[V],G=["onClick"],H=t("button",null,"Убрать",-1),K=[H],M={class:"flex justify-center"},Q=t("button",{class:"text-center border-4 border-black bg-black px-4 py-2 rounded-[12px] text-white"}," Купить ",-1),R={class:"text-[40px]"};function U(e,W,X,Y,c,r){const d=p("Layout");return n(),f(d,null,{default:x(()=>[t("div",null,[v,C,t("div",k,[(n(!0),l(m,null,g(c.store.cart,(o,i)=>(n(),l("div",w,[t("div",S,[t("div",j,[t("h1",T,s(o.name),1)]),A,t("div",B,[t("div",O,[t("span",null,"Объем: "+s(o.volume)+"л",1),t("span",P,"Цена: "+s(o.price)+"kgs",1)]),t("div",q,[t("div",L,[N,t("div",D,[t("button",{class:"w-[30px] h-[30px] border-solid border-2 border-[#1C1B1F] rounded-full hover:bg-[#EAAD02]",onClick:a=>r.decrementProductCount(i)},J,8,E),t("p",I,s(o.quantity)+" шт",1),t("button",{class:"w-[30px] h-[30px] border-solid border-2 border-[#1C1B1F] rounded-full hover:bg-[#EAAD02]",onClick:a=>r.incrementProductCount(i)},z,8,$)])])]),t("div",{onClick:a=>r.removeCart(i),class:"flex justify-center align-center bg-[#EAAD02] h-[35px] rounded-[6px] px-2 text-center text-white hover:text-amber-700 hover:underline hover:cursor-pointer underline-offset-4"},K,8,G)])])]))),256))]),t("div",M,[Q,t("p",R,s(c.store.sum())+" сом",1)])])]),_:1})}const et=u(y,[["render",U]]);export{et as default};
